include ../../mixins/imgGen
include ./price-data

mixin getParametrs(data)
    dl.parametrs__wrapper
        each item, index in data
            if index === 0
                .parametr(data-about= 'hide')
                    dt.parametr__name= item.name
                    dd.parametr__value= item.value
            else
                .parametr
                    dt.parametr__name= item.name
                    dd.parametr__value= item.value
mixin getToggles()
    .parametrs__toggle-wrapper
        a.parametrs__toggle.btn.btn--more.btn--js-collapse.btn--hide(href= '' aria-label='сметреть подробности').
            <svg class="btn__icon" width="17" height="17" aria-hidden="true">
            <use xlink:href="./img/icons/sprite.svg#more-icon"></use>
            </svg>
            #[span.btn__text.btn__text--hide(data-about='more') Подробнее]
            #[span.btn__text(data-about='collapse') Свернуть #[span.visually-hidden подробности]]
        a.parametrs__toggle.btn.btn--buy(href= '#contacts' aria-label='Совершить заказ').
            <svg class="btn__icon" width="20" height="20" aria-hidden="true">
            <use xlink:href="./img/icons/sprite.svg#cart-icon"></use>
            </svg>
            #[span.btn__text Заказать]
mixin getHeading(data)
    h3.parametrs__heading.
        #[span.visually-hidden= data.subHeading]
        &laquo;#{data.heading}&raquo;
//- 
    mixins end
each price in prices
    li.price__list-item.parametrs(data-about='')
        .parametrs__heading-wrapper
            +getHeading(price)
            p.parametrs__price цена кубика &nbsp;&#8381;
        .parametrs__pic-wrapper(class= price.status?`.item-status .item-status--${price.status}`: false)
            +imageGenerate(price.images)
            button.parametrs__pic-btn.slide-pic.slide-pic--hide(type='button' aria-label='Предыдущая фотогорафия') &lt;
            button.parametrs__pic-btn.parametrs__pic-btn--right.slide-pic.slide-pic--hide(type='button' aria-label='Следующая фотогорафия') &gt;
        +getParametrs(price.parametrs)
        +getToggles
