import{removeAddIfContains,getParentElement}from"./rendering.js";let price=null,parametrsSet=null,priceImageBtns=null;function definOPenCloseElement(){let e={current:null};return{setCurrent:function(t){isDataSetAbout(t,"current")?(t.dataset.about="",e.current=null,revialPrice(t)):(t.dataset.about="current",revialPrice(t),t.scrollIntoView({block:"center",inline:"center"}),null!==e.current?(revialPrice(e.current),t.scrollIntoView({block:"center",inline:"center"}),e.current.dataset.about="",e.current=t):e.current=t)}}}let seniorUnit=definOPenCloseElement();function isContains(e,t){return e.classList.contains(t)}function getToggleClass(e,t){e.classList.toggle(t)}function isDataSetAbout(e,t){return e.dataset.about===t}function revialPrice(e){let t=e.querySelector(".parametrs__heading-wrapper"),r=t.querySelector(".parametrs__heading"),a=t.querySelector(".parametrs__price"),n=e.querySelector(".parametrs__pic-wrapper"),s=e.querySelector(".parametrs__wrapper"),l=e.querySelectorAll(".parametr"),o=e.querySelector(".parametrs__toggle-wrapper"),c=e.querySelector(".btn--more"),g=c.querySelector(".btn__icon"),i=c.querySelectorAll(".btn__text"),u=c.parentElement.querySelector(".btn--buy"),p=u.querySelector(".btn__icon"),_=u.querySelector(".btn__text");getToggleClass(e,"parametrs--js"),getToggleClass(t,"parametrs__heading-wrapper--js"),getToggleClass(r,"parametrs__heading--js"),getToggleClass(a,"parametrs__price--js"),getToggleClass(n,"parametrs__pic-wrapper--js"),getToggleClass(s,"parametrs__wrapper--js"),getToggleClass(o,"parametrs__toggle-wrapper--js"),getToggleClass(c,"parametrs__toggle--js"),getToggleClass(c,"btn--js-more"),getToggleClass(c,"btn--js-collapse"),getToggleClass(c,"btn--js"),removeAddIfContains(c,"btn--hide"),getToggleClass(g,"btn__icon--js"),getToggleClass(u,"btn--js-buy"),getToggleClass(u,"btn--js"),getToggleClass(p,"btn__icon--js"),getToggleClass(p,"btn__icon--js-cart"),getToggleClass(_,"btn__text--js-buy"),l.forEach((function(e){getToggleClass(e,"parametr--js-hide"),isDataSetAbout(e,"show")&&(getToggleClass(e.querySelector(".parametr__name"),"parametr__name--js-hide"),getToggleClass(e,"parametr--js-show"))})),i.forEach((function(e){getToggleClass(e,"btn__text--hide"),getToggleClass(e,"btn__text--js")})),g=i=u=p=_=null}function isMoreBtn(e){return getParentElement(e,"btn--more")}function getImegeSlidBtns(){priceImageBtns.forEach((function(e){removeAddIfContains(e,"slide-pic--hide")}))}function launchPrice(){try{if(price=document.querySelector(".price"),!price)throw new Error("Прайс отстутствует");parametrsSet=price.querySelectorAll(".parametrs"),priceImageBtns=price.querySelectorAll(".slide-pic"),parametrsSet.forEach((function(e){revialPrice(e)})),price.addEventListener("click",(function(e){isMoreBtn(e.target)&&(e.preventDefault(),seniorUnit.setCurrent(getParentElement(e.target,"parametrs")))}))}catch(e){}}launchPrice();export{price};